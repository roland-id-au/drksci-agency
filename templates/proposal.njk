<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} | {{ brand.name }}</title>
  <meta name="description" content="{{ subtitle }}">
  <meta property="og:title" content="{{ title }}">
  <meta property="og:description" content="{{ subtitle }}">
  <link rel="stylesheet" href="/css/proposal.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --drksci-black: #000000;
      --drksci-white: #ffffff;
      --drksci-gray: #f5f5f5;
      --drksci-accent: #0066ff;
      --spacing-xs: 0.5rem;
      --spacing-sm: 1rem;
      --spacing-md: 2rem;
      --spacing-lg: 4rem;
      --spacing-xl: 6rem;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: var(--drksci-black);
      background: var(--drksci-white);
      padding: var(--spacing-md);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    header {
      border-bottom: 1px solid var(--drksci-black);
      padding-bottom: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .brand {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: var(--spacing-xs);
      text-transform: lowercase;
    }

    .brand-tagline {
      font-size: 0.875rem;
      color: #666;
      text-transform: lowercase;
    }

    h1 {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1.1;
      margin: var(--spacing-lg) 0 var(--spacing-sm);
    }

    .subtitle {
      font-size: 1.25rem;
      color: #666;
      margin-bottom: var(--spacing-md);
    }

    .metadata {
      display: flex;
      gap: var(--spacing-md);
      font-size: 0.875rem;
      color: #666;
      margin-bottom: var(--spacing-lg);
    }

    .metadata span {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .section {
      margin-bottom: var(--spacing-lg);
    }

    h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: var(--spacing-sm);
    }

    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      margin: var(--spacing-md) 0 var(--spacing-sm);
    }

    p {
      margin-bottom: var(--spacing-sm);
      color: #333;
    }

    ul, ol {
      margin-left: var(--spacing-md);
      margin-bottom: var(--spacing-sm);
    }

    li {
      margin-bottom: var(--spacing-xs);
    }

    .executive-summary {
      background: var(--drksci-gray);
      padding: var(--spacing-md);
      border-left: 4px solid var(--drksci-black);
      margin-bottom: var(--spacing-lg);
      font-size: 1.1rem;
    }

    .conclusion {
      background: var(--drksci-gray);
      padding: var(--spacing-md);
      border-radius: 4px;
      margin-top: var(--spacing-lg);
    }

    footer {
      margin-top: var(--spacing-xl);
      padding-top: var(--spacing-md);
      border-top: 1px solid var(--drksci-black);
      text-align: center;
      font-size: 0.875rem;
      color: #666;
    }

    @media print {
      body {
        padding: 0;
      }

      .container {
        max-width: 100%;
      }

      h1 {
        font-size: 2.5rem;
      }

      .section {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">{{ brand.name }}</div>
      <div class="brand-tagline">{{ brand.tagline }}</div>
    </header>

    <main>
      <h1>{{ title }}</h1>
      {% if subtitle %}
      <p class="subtitle">{{ subtitle }}</p>
      {% endif %}

      <div class="metadata">
        <span>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm0-2A6 6 0 1 1 8 2a6 6 0 0 1 0 12z" fill="currentColor"/>
            <path d="M8 4v4l3 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          {{ metadata.estimatedReadTime }}
        </span>
        <span>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="2" y="3" width="12" height="11" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <path d="M2 6h12M5 1v4M11 1v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          {{ generatedDate | date('YYYY-MM-DD') }}
        </span>
      </div>

      {% if executiveSummary %}
      <section class="executive-summary">
        <h2>Executive Summary</h2>
        <markdown>{{ executiveSummary }}</markdown>
      </section>
      {% endif %}

      {% for section in sections %}
      <section class="section">
        <h2>{{ section.title }}</h2>
        <markdown>{{ section.content }}</markdown>
      </section>
      {% endfor %}

      {% if conclusion %}
      <section class="conclusion">
        <h2>Conclusion & Next Steps</h2>
        <markdown>{{ conclusion }}</markdown>
      </section>
      {% endif %}
    </main>

    <footer>
      <p>&copy; {{ year }} {{ brand.name }}. All rights reserved.</p>
      <p>{{ brand.website }}</p>
    </footer>
  </div>
</body>
</html>
